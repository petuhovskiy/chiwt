# chiwt
Self-hosted twitch-like service

## Использование

```
go run main.go
```

В OBS нужно указать адрес куда отправлять видеопоток:
- Server: `rtmp://localhost:1935/live`
- Stream key: `печатается в консоли после запуска`

В браузере открыть `http://localhost/`, там будет страница со стримом. Работает в Chromium, в остальных браузерах не проверяли.

Стрим приходит в браузер с адреса `http://127.0.0.1:7001/live/movie.flv`

## План реализации

Серверный код по необходимости планируется писать на Go, а клиент должен работать в браузере. Сама реализация будет происходить поэтапно, от самого простого к самому сложному.


1. Посмотреть на OBS, понять в каком формате он отпраляет видеопоток, и в каком формате нужно указывать ссылку
2. Сделать простой сервер, который может принимать видеопоток, и правильно его распознает
3. Добавить в этот сервер ретрансляцию потока, т.е. HTTP сервер должен отдавать такой же поток как в него загружают
4. Сделать браузерный клиент, для просмотра стрима (ретранслируемого потока)

=== Вы находитесь здесь ===

5. Добавить на сервер перекодирование под разные битрейты
6. Добавить в клиент возможность выбора битрейта
7. Добавить поддержку нескольких пользователей, нужную для нескольких стримов и чата
8. Добавить на сервер поддержку real-time чата
9. Добавить на клиент возможность логина и использования чата
10. Настроить CDN для стримов (видеопотоков)
